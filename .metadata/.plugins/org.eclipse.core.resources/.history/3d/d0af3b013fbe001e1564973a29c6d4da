<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="shopMapper">
  
	 
	<resultMap id="shopResultSet" type="shop">
    <result property="shopNum" column="SHOP_NUM"/>
    <result property="shopId" column="SHOP_ID"/>
    <result property="shopPwd" column="SHOP_PWD"/>
    <result property="shopName" column="SHOP_NAME"/>
    <result property="shopRepresentative" column="SHOP_REPRESENTATIVE"/>
    <result property="shopPhone" column="SHOP_PHONE"/>
    <result property="shopEmail" column="SHOP_EMAIL"/>
    <result property="contractPeriod" column="CONTRACT_PERIOD"/>
    <result property="updateDate" column="UPDATE_DATE"/>
    <result property="shopLogoImage" column="SHOP_LOGO_IMAGE"/>
    <result property="userGrade" column="USER_GRADE"/>
    <result property="userStatus" column="USER_STATUS"/>
</resultMap>
	  
	 <!-- 가게 리스트 조회 -->
	<select id="selectListShop" resultMap="shopResultSet">
		   SELECT SHOP_NUM,
		           SHOP_NAME,
		           SHOP_LOGO_IMAGE
		    FROM SHOPS
		    WHERE USER_STATUS = 'Y'
		    AND USER_GRADE = '2'
		    ORDER BY SHOP_NUM
		    LIMIT 6
	</select>
	
	<!-- 로그인 -->
	<select id="loginMember" parameterType="shop" resultMap="shopResultSet">
		SELECT *
		FROM SHOPS
		WHERE SHOP_ID = #{shopId}
		AND USER_STATUS = 'Y'
	</select>
	
	<!-- 로그인시 아이디와 비밀번호 확인 -->
	<select id="loginUser" resultType="shop">
		SELECT *
		FROM SHOPS
		WHERE SHOP_ID = #{shopId} 
		AND SHOP_PWD = #{shop_pwd}
		AND USER_STATUS = 'Y'
	</select>
	
	
	
	
  
  </mapper>